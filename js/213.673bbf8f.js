"use strict";(self["webpackChunkcloud_storage"]=self["webpackChunkcloud_storage"]||[]).push([[213],{8099:function(){},9213:function(e,l,t){t.r(l),t.d(l,{default:function(){return Gl}});var a=t(3396),n=t(7312);const r={class:"d-flex justify-end mt-2"},i=["src"],o=["src"];function s(e,l,t,s,u,d){const c=(0,a.up)("AppButtonImport"),p=(0,a.up)("AppDisk");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,{currentDir:e.currentDir},null,8,["currentDir"]),(0,a._)("div",r,["grid"===e.table?((0,a.wg)(),(0,a.j4)(n.T,{key:0,onClick:l[0]||(l[0]=l=>e.updateTable("spreadsheet")),class:"ma-3"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:e.grid},null,8,i)])),_:1})):(0,a.kq)("",!0),"spreadsheet"===e.table?((0,a.wg)(),(0,a.j4)(n.T,{key:1,onClick:l[1]||(l[1]=l=>e.updateTable("grid")),class:"ma-3"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:e.spreadsheet},null,8,o)])),_:1})):(0,a.kq)("",!0)]),(0,a.Wm)(p,{"current-dir":e.currentDir,loading:e.loading,table:e.table},null,8,["current-dir","loading","table"])],64)}var u=t(65),d=t(7325);const c={class:"import d-flex flex-column"},p=(0,a._)("label",{for:"import"},[(0,a._)("p",{class:"text-white"},"Загрузить файл")],-1);function m(e,l,t,n,r,i){return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",null,[p,(0,a._)("input",{class:"d-none",id:"import",multiple:"",onChange:l[0]||(l[0]=l=>e.fileUploadHandler(l)),type:"file"},null,32)]),e.progressFileUpload>0?((0,a.wg)(),(0,a.j4)(d.K,{key:0,class:"mt-2",modelValue:e.progressFileUpload,"onUpdate:modelValue":l[1]||(l[1]=l=>e.progressFileUpload=l),color:"black",height:"4"},null,8,["modelValue"])):(0,a.kq)("",!0)])}var v=(0,a.aZ)({props:["currentDir"],data(){return{value:0}},methods:{fileUploadHandler(e){const l=[...e.target.files];l.forEach((e=>{const l={file:e,dirId:this.currentDir};this.$store.dispatch("files/uploadFile",l)}))}},computed:{...(0,u.rn)("files",["progressFileUpload"])},watch:{progressFileUpload(e){100===e&&setTimeout((()=>{this.$store.commit("files/removeChangeUploadFile")}),3e3)}}}),f=t(89);const g=(0,f.Z)(v,[["render",m]]);var h=g,b=t(320),y=t(9888);const k=(0,b.aZ)({name:"VBreadcrumbsDivider",props:{divider:[Number,String]},setup(e,l){let{slots:t}=l;return(0,y.L)((()=>{var l;return(0,a.Wm)("li",{class:"v-breadcrumbs-divider"},[(null==t||null==(l=t.default)?void 0:l.call(t))??e.divider])})),{}}});var C=t(6183),w=t(1138),D=t(2370);const V=(0,b.aZ)({name:"VBreadcrumbsItem",props:{active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...(0,C.GN)(),...(0,w.Q)({tag:"li"})},setup(e,l){let{slots:t,attrs:n}=l;const r=(0,C.nB)(e,n),i=(0,a.Fl)((()=>{var l;return e.active||(null==(l=r.isActive)?void 0:l.value)})),o=(0,a.Fl)((()=>i.value?e.activeColor:e.color)),{textColorClasses:s,textColorStyles:u}=(0,D.rY)(o);return(0,y.L)((()=>{var l;const n=r.isLink.value?"a":e.tag;return(0,a.Wm)(n,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":i.value,"v-breadcrumbs-item--disabled":e.disabled,"v-breadcrumbs-item--link":r.isLink.value,[`${e.activeClass}`]:i.value&&e.activeClass},s.value],style:[u.value],href:r.href.value,"aria-current":i.value?"page":void 0,onClick:r.navigate},{default:()=>[(null==(l=t.default)?void 0:l.call(t))??e.title]})})),{}}});var _=t(836),x=t(3289),F=t(4960),W=t(9694),S=t(4231),H=t(8434),I=t(4870);const U=(0,b.ev)()({name:"VBreadcrumbs",props:{activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:F.lE,items:{type:Array,default:()=>[]},...(0,W.f)(),...(0,S.I)(),...(0,w.Q)({tag:"ul"})},setup(e,l){let{slots:t}=l;const{backgroundColorClasses:n,backgroundColorStyles:r}=(0,D.Y5)((0,I.Vh)(e,"bgColor")),{densityClasses:i}=(0,W.t)(e),{roundedClasses:o}=(0,S.b)(e);return(0,H.AF)({VBreadcrumbsDivider:{divider:(0,I.Vh)(e,"divider")},VBreadcrumbsItem:{activeClass:(0,I.Vh)(e,"activeClass"),activeColor:(0,I.Vh)(e,"activeColor"),color:(0,I.Vh)(e,"color"),disabled:(0,I.Vh)(e,"disabled")}}),(0,y.L)((()=>{var l;const s=!(!t.prepend&&!e.icon);return(0,a.Wm)(e.tag,{class:["v-breadcrumbs",n.value,i.value,o.value],style:r.value},{default:()=>[s&&(0,a.Wm)(_.z,{key:"prepend",defaults:{VIcon:{icon:e.icon,start:!0}}},{default:()=>[(0,a.Wm)("div",{class:"v-breadcrumbs__prepend"},[t.prepend?t.prepend():e.icon&&(0,a.Wm)(x.t,null,null)])]}),e.items.map(((e,l,n)=>(0,a.Wm)(a.HY,null,[(0,a.Wm)(V,(0,a.dG)({key:l,disabled:l>=n.length-1},"string"===typeof e?{title:e}:e),{default:t.title?()=>{var a;return null==(a=t.title)?void 0:a.call(t,{item:e,index:l})}:void 0}),l<n.length-1&&(0,a.Wm)(k,null,{default:t.divider?()=>{var a;return null==(a=t.divider)?void 0:a.call(t,{item:e,index:l})}:void 0})]))),null==(l=t.default)?void 0:l.call(t)]})})),{}}});var B=t(3369),$=(t(7658),t(8099),t(7139));const j=["sm","md","lg","xl","xxl"],z=["start","end","center"],A=["space-between","space-around","space-evenly"];function Z(e,l){return j.reduce(((t,a)=>(t[e+(0,$.kC)(a)]=l(),t)),{})}const N=[...z,"baseline","stretch"],E=e=>N.includes(e),L=Z("align",(()=>({type:String,default:null,validator:E}))),T=[...z,...A],O=e=>T.includes(e),G=Z("justify",(()=>({type:String,default:null,validator:O}))),q=[...z,...A,"stretch"],P=e=>q.includes(e),Y=Z("alignContent",(()=>({type:String,default:null,validator:P}))),R={align:Object.keys(L),justify:Object.keys(G),alignContent:Object.keys(Y)},Q={align:"align",justify:"justify",alignContent:"align-content"};function M(e,l,t){let a=Q[e];if(null!=t){if(l){const t=l.replace(e,"");a+=`-${t}`}return a+=`-${t}`,a.toLowerCase()}}const K=(0,b.aZ)({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:E},...L,justify:{type:String,default:null,validator:O},...G,alignContent:{type:String,default:null,validator:P},...Y,...(0,w.Q)()},setup(e,l){let{slots:t}=l;const n=(0,a.Fl)((()=>{const l=[];let t;for(t in R)R[t].forEach((a=>{const n=e[a],r=M(t,a,n);r&&l.push(r)}));return l.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),l}));return()=>{var l;return(0,a.h)(e.tag,{class:["v-row",n.value]},null==(l=t.default)?void 0:l.call(t))}}});function J(e,l,t,n,r,i){const o=(0,a.up)("AppLoader"),s=(0,a.up)("HomeTable");return(0,a.wg)(),(0,a.j4)(B.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(K,{class:"d-flex align-center mb-5"},{default:(0,a.w5)((()=>[e.currentDir?((0,a.wg)(),(0,a.j4)(x.t,{key:0,onClick:e.backClickHandler,dark:"",left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-arrow-left")])),_:1},8,["onClick"])):(0,a.kq)("",!0),(0,a.Wm)(U,{items:e.arrayNamesDir},null,8,["items"])])),_:1}),e.loading?((0,a.wg)(),(0,a.j4)(o,{key:0})):((0,a.wg)(),(0,a.j4)(s,{key:1,table:e.table,desserts:e.files,currentDir:e.currentDir},null,8,["table","desserts","currentDir"]))])),_:1})}var X=t(3173);const ee={class:"text-center"};function le(e,l){return(0,a.wg)(),(0,a.iD)("div",ee,[(0,a.Wm)(X.L,{indeterminate:"",color:"amber"})])}const te={},ae=(0,f.Z)(te,[["render",le]]);var ne=ae;function re(e,l,t,n,r,i){const o=(0,a.up)("HomeSorting"),s=(0,a.up)("AppCreateNewFolder"),u=(0,a.up)("GridFile"),d=(0,a.up)("SpreadsheetTable"),c=(0,a.up)("PopupCreateDir");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(o,{currentDir:e.currentDir},null,8,["currentDir"]),"grid"===e.table?((0,a.wg)(),(0,a.j4)(K,{key:0,class:"text-center d-flex align-center justify-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{table:e.table,onCreateDirHandler:e.createDirHandler},null,8,["table","onCreateDirHandler"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.desserts,(l=>((0,a.wg)(),(0,a.iD)("div",{key:l._id,class:"ma-2 file size"},[(0,a.Wm)(u,{item:l,onOpenDirHandler:e.openDirHandler},null,8,["item","onOpenDirHandler"])])))),128))])),_:1})):(0,a.kq)("",!0),"spreadsheet"===e.table?((0,a.wg)(),(0,a.j4)(d,{key:1,desserts:e.desserts,onOpenDirHandler:e.openDirHandler,onCreateDirHandler:e.createDirHandler,table:e.table},null,8,["desserts","onOpenDirHandler","onCreateDirHandler","table"])):(0,a.kq)("",!0),e.dialog?((0,a.wg)(),(0,a.j4)(c,{key:2,popup:"create",onClose:l[0]||(l[0]=l=>e.dialog=!1),currentDir:e.currentDir},null,8,["currentDir"])):(0,a.kq)("",!0)],64)}var ie=t(1888);const oe={key:0,class:"ma-5 createNewFolder size"},se=(0,a._)("span",null,"Создать папку",-1);function ue(e,l,t,n,r,i){return(0,a.wg)(),(0,a.iD)(a.HY,null,["grid"===e.table?((0,a.wg)(),(0,a.iD)("div",oe,[(0,a.Wm)(x.t,{class:"mt-5",size:"75",color:"#CFD8DC",onClick:l[0]||(l[0]=l=>e.$emit("createDirHandler"))},{default:(0,a.w5)((()=>[(0,a.Uk)(" mdi-plus-circle ")])),_:1}),(0,a.Wm)(ie.Z,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Создать папку")])),_:1})])):(0,a.kq)("",!0),"spreadsheet"===e.table?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"d-flex align-center createNewFolder",onClick:l[1]||(l[1]=l=>e.$emit("createDirHandler"))},[(0,a.Wm)(x.t,{class:"ma-1",color:"#CFD8DC"},{default:(0,a.w5)((()=>[(0,a.Uk)(" mdi-plus-circle ")])),_:1}),se])):(0,a.kq)("",!0)],64)}var de=(0,a.aZ)({emits:["createDirHandler"],props:["table"]});const ce=(0,f.Z)(de,[["render",ue]]);var pe=ce,me=t(3354),ve=t(8717),fe=t(5975),ge=t(3185),he=t(131),be=t(7514);const ye=(0,b.ev)()({name:"VTooltip",props:{id:String,text:String,...(0,he.CE)((0,me.BU)({closeOnBack:!1,location:"end",locationStrategy:"connected",minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent","eager"])},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const n=(0,ve.z)(e,"modelValue"),{scopeId:r}=(0,fe.a)(),i=(0,be.sq)(),o=(0,a.Fl)((()=>e.id||`v-tooltip-${i}`)),s=(0,I.iH)(),u=(0,a.Fl)((()=>e.location.split(" ").length>1?e.location:e.location+" center")),d=(0,a.Fl)((()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center")),c=(0,a.Fl)((()=>e.transition?e.transition:n.value?"scale-transition":"fade-transition")),p=(0,a.Fl)((()=>(0,a.dG)({"aria-describedby":o.value},e.activatorProps)));return(0,y.L)((()=>{const[l]=(0,me.Fe)(e);return(0,a.Wm)(me.yc,(0,a.dG)({ref:s,class:["v-tooltip"],id:o.value},l,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,transition:c.value,absolute:!0,location:u.value,origin:d.value,persistent:!0,role:"tooltip",eager:!0,activatorProps:p.value,_disableGlobalStack:!0},r),{activator:t.activator,default:function(){for(var l,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(null==(l=t.default)?void 0:l.call(t,...n))??e.text}})})),(0,ge.F)({},s)}});function ke(e,l,t,n,r,i){const o=(0,a.up)("FileMenu"),s=(0,a.up)("PopupCreateDir");return(0,a.wg)(),(0,a.iD)("div",null,["dir"===e.item.type?((0,a.wg)(),(0,a.j4)(x.t,{key:0,size:"100",color:"#CFD8DC",onClick:l[0]||(l[0]=l=>e.$emit("openDirHandler",e.item))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,$.zw)("dir"===e.item.type?"mdi-folder":"mdi-file"),1)])),_:1})):((0,a.wg)(),(0,a.j4)(x.t,{key:1,class:"file",size:"100",color:"#CFD8DC"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,$.zw)("dir"===e.item.type?"mdi-folder":"mdi-file"),1)])),_:1})),(0,a.Wm)(ie.Z,{class:"d-flex align-center justify-center"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,$.zw)(e.maxLengthName)+" ",1),(0,a.Wm)(o,{item:e.item,onUpdateDirHandler:e.updateDirHandler},null,8,["item","onUpdateDirHandler"])])),_:1}),e.dialog?((0,a.wg)(),(0,a.j4)(s,{key:2,popup:"update",onClose:l[1]||(l[1]=l=>e.dialog=!1),id:e.item._id,fileName:e.item.name},null,8,["id","fileName"])):(0,a.kq)("",!0),(0,a.Wm)(ye,{activator:"parent",location:"top"},{default:(0,a.w5)((()=>[(0,a._)("div",null,'"'+(0,$.zw)(e.item.name)+'"',1),(0,a._)("div",null,"Дата: "+(0,$.zw)(e.item.date.slice(0,10)),1),(0,a._)("div",null,"Размер: "+(0,$.zw)(e.sizeFormat(e.item.size)),1)])),_:1})])}var Ce=t(9242),we=t(5661),De=t(6572),Ve=t(2583),_e=t(2385);const xe=(0,b.ev)()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...(0,me.BU)({origin:"center center",scrollStrategy:"block",transition:{component:Ve.v},zIndex:2400})},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const n=(0,ve.z)(e,"modelValue"),{scopeId:r}=(0,fe.a)(),i=(0,I.iH)();function o(e){var l,t;const a=e.relatedTarget,n=e.target;if(a!==n&&null!=(l=i.value)&&l.contentEl&&null!=(t=i.value)&&t.globalTop&&![document,i.value.contentEl].includes(n)&&!i.value.contentEl.contains(n)){const e=[...i.value.contentEl.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')].filter((e=>!e.hasAttribute("disabled")&&!e.matches('[tabindex="-1"]')));if(!e.length)return;const l=e[0],t=e[e.length-1];a===l?t.focus():l.focus()}}_e.BR&&(0,a.YP)((()=>n.value&&e.retainFocus),(e=>{e?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)}),{immediate:!0}),(0,a.YP)(n,(async e=>{var l,t;(await(0,a.Y3)(),e)?null==(l=i.value.contentEl)||l.focus({preventScroll:!0}):null==(t=i.value.activatorEl)||t.focus({preventScroll:!0})}));const s=(0,a.Fl)((()=>(0,a.dG)({"aria-haspopup":"dialog","aria-expanded":String(n.value)},e.activatorProps)));return(0,y.L)((()=>{const[l]=(0,me.Fe)(e);return(0,a.Wm)(me.yc,(0,a.dG)({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable}]},l,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,"aria-role":"dialog","aria-modal":"true",activatorProps:s.value},r),{activator:t.activator,default:function(){for(var e,l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(0,a.Wm)(_.z,{root:!0},{default:()=>[null==(e=t.default)?void 0:e.call(t,...n)]})}})})),(0,ge.F)({},i)}});var Fe=t(6422),We=t(2900);function Se(e,l,t,r,i,o){return(0,a.wg)(),(0,a.j4)(K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(xe,{persistent:"","model-value":"","max-width":"290"},{default:(0,a.w5)((()=>["create"===e.popup?((0,a.wg)(),(0,a.j4)(we._,{key:0,class:"pa-2 text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(x.t,{onClick:l[0]||(l[0]=l=>e.$emit("close"))},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-close")])),_:1}),(0,a.Wm)(De.E,{class:"text-h5"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Создать ")])),_:1}),(0,a.Wm)(ie.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Fe.O,{onSubmit:(0,Ce.iM)(e.createDir,["prevent"]),ref:"form",modelValue:e.valid,"onUpdate:modelValue":l[2]||(l[2]=l=>e.valid=l),"lazy-validation":""},{default:(0,a.w5)((()=>[(0,a.Wm)(We.hw,{modelValue:e.dirname,"onUpdate:modelValue":l[1]||(l[1]=l=>e.dirname=l),rules:e.dirnameRules,label:"Название",clearable:"",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(n.T,{disabled:!e.valid,color:"green darken-1",text:"",type:"submit"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Создать ")])),_:1},8,["disabled"])])),_:1},8,["onSubmit","modelValue"])])),_:1})])),_:1})):((0,a.wg)(),(0,a.j4)(we._,{key:1,class:"pa-2 text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(x.t,{onClick:l[3]||(l[3]=l=>e.$emit("close"))},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-close")])),_:1}),(0,a.Wm)(De.E,{class:"text-h5"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Изменить ")])),_:1}),(0,a.Wm)(ie.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Fe.O,{onSubmit:(0,Ce.iM)(e.updateNameFile,["prevent"]),ref:"form",modelValue:e.valid,"onUpdate:modelValue":l[5]||(l[5]=l=>e.valid=l),"lazy-validation":""},{default:(0,a.w5)((()=>[(0,a.Wm)(We.hw,{modelValue:e.filename,"onUpdate:modelValue":l[4]||(l[4]=l=>e.filename=l),rules:e.dirnameRules,label:"Название",clearable:"",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(n.T,{disabled:!e.valid,color:"green darken-1",text:"",type:"submit"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Изменить ")])),_:1},8,["disabled"])])),_:1},8,["onSubmit","modelValue"])])),_:1})])),_:1}))])),_:1})])),_:1})}var He=(0,a.aZ)({props:["currentDir","popup","id","fileName"],emits:["close"],data(){return{valid:!0,dirname:"",filenameExtension:this.fileName?this.fileName.split(".").pop(0,-1):"",filename:this.filename?this.fileName.split(".").slice(0,-1).join("."):"",dirnameRules:[e=>!!e||"Название некорректно",e=>e&&e.length<=15||"Название не должно содержать больше 15 символов"]}},methods:{async createDir(){const{valid:e}=await this.$refs["form"].validate();e||alert("Форма не валидна");const l={name:this.dirname,dirId:this.currentDir};try{await this.$store.dispatch("files/createDir",l),await this.$refs["form"].reset(),this.$emit("close")}catch(t){console.log(t)}},async updateNameFile(){const{valid:e}=await this.$refs["form"].validate();e||alert("Форма не валидна");const l={id:this.id,name:this.filename+"."+this.filenameExtension};try{await this.$store.dispatch("files/updateNameFile",l),await this.$refs["form"].reset(),this.$emit("close")}catch(t){console.log(t)}}}});const Ie=(0,f.Z)(He,[["render",Se]]);var Ue=Ie,Be=t(8649),$e=t(4193);const je=(0,a._)("span",{class:"ma-1"},"Загрузить",-1),ze=(0,a._)("span",{class:"ma-1"},"Удалить",-1),Ae=(0,a._)("span",{class:"ma-1"},"Изменить",-1);function Ze(e,l,t,n,r,i){return(0,a.wg)(),(0,a.j4)($e.T,null,{activator:(0,a.w5)((({props:e})=>[(0,a.Wm)(x.t,(0,$.vs)((0,a.F4)(e)),{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-dots-vertical")])),_:2},1040)])),default:(0,a.w5)((()=>[(0,a.Wm)(Be.i,null,{default:(0,a.w5)((()=>["dir"!==e.item.type?((0,a.wg)(),(0,a.iD)("div",{key:0,onClick:l[0]||(l[0]=l=>e.downloadFile(e.item)),class:"ma-1 file"},[(0,a.Wm)(x.t,{class:"ma-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-cloud-upload")])),_:1}),je])):(0,a.kq)("",!0),(0,a._)("div",{onClick:l[1]||(l[1]=l=>e.deleteFile(e.item)),class:"ma-1 file"},[(0,a.Wm)(x.t,{class:"ma-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-delete")])),_:1}),ze]),(0,a._)("button",{onClick:l[2]||(l[2]=l=>e.$emit("updateDirHandler",e.item)),class:"ma-1 file"},[(0,a.Wm)(x.t,{class:"ma-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-pencil")])),_:1}),Ae])])),_:1})])),_:1})}var Ne=(0,a.aZ)({emits:["updateDirHandler"],props:["item"],methods:{async downloadFile(e){await this.$store.dispatch("files/downloadFile",e)},async deleteFile(e){await this.$store.dispatch("files/deleteFile",e._id)}}});const Ee=(0,f.Z)(Ne,[["render",Ze]]);var Le=Ee;const Te=e=>e>1073741824?(e/1073741824).toFixed(1)+"Gb":e>1048576?(e/1048576).toFixed(1)+"Mb":e>1024?(e/1024).toFixed(1)+"Kb":e+"B";var Oe=(0,a.aZ)({components:{FileMenu:Le,PopupCreateDir:Ue},emits:["openDirHandler"],props:["item"],data(){return{dialog:!1}},methods:{updateDirHandler(){this.dialog=!0}},computed:{maxLengthName(){const e=7,l=this.item.name;return this.item.name?l.length>e?l.slice(0,e)+"...":l:"error"}},setup(){return{sizeFormat:Te}}});const Ge=(0,f.Z)(Oe,[["render",ke]]);var qe=Ge,Pe=t(7041);const Ye=(0,b.aZ)({name:"VTable",props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...(0,W.f)(),...(0,w.Q)(),...(0,Pe.x$)()},setup(e,l){let{slots:t}=l;const{themeClasses:n}=(0,Pe.ER)(e),{densityClasses:r}=(0,W.t)(e);return(0,y.L)((()=>{var l,i,o;return(0,a.Wm)(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},n.value,r.value]},{default:()=>[null==(l=t.top)?void 0:l.call(t),t.default?(0,a.Wm)("div",{class:"v-table__wrapper",style:{height:(0,he.kb)(e.height)}},[(0,a.Wm)("table",null,[t.default()])]):null==(i=t.wrapper)?void 0:i.call(t),null==(o=t.bottom)?void 0:o.call(t)]})})),{}}}),Re=e=>((0,a.dD)("data-v-eec96ac2"),e=e(),(0,a.Cn)(),e),Qe={class:"ml-3"},Me=Re((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:"text-left"}," Название "),(0,a._)("th",{class:"text-left"}," Размер "),(0,a._)("th",{class:"text-left"}," Дата "),(0,a._)("th")])],-1))),Ke=["onClick"];function Je(e,l,t,n,r,i){const o=(0,a.up)("AppCreateNewFolder"),s=(0,a.up)("FileMenu"),u=(0,a.up)("PopupCreateDir");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Qe,[(0,a.Wm)(o,{table:e.table,onCreateDirHandler:l[0]||(l[0]=l=>e.$emit("createDirHandler"))},null,8,["table"])]),(0,a.Wm)(Ye,{class:"table-media"},{default:(0,a.w5)((()=>[Me,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.desserts,(l=>((0,a.wg)(),(0,a.iD)("tr",{key:l._id},[(0,a._)("td",{class:"file d-flex align-center justify-start",onClick:t=>e.$emit("openDirHandler",l)},["dir"===l.type?((0,a.wg)(),(0,a.j4)(x.t,{key:0,color:"#CFD8DC",class:"ma-1",onClick:t=>e.$emit("openDirHandler",l)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,$.zw)("dir"===l.type?"mdi-folder":"mdi-file"),1)])),_:2},1032,["onClick"])):((0,a.wg)(),(0,a.j4)(x.t,{key:1,class:"ma-1",color:"#CFD8DC"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,$.zw)("dir"===l.type?"mdi-folder":"mdi-file"),1)])),_:2},1024)),(0,a.Uk)(" "+(0,$.zw)(l.name),1)],8,Ke),(0,a._)("td",null,(0,$.zw)(e.sizeFormat(l.size)),1),(0,a._)("td",null,(0,$.zw)(l.date.slice(0,10)),1),(0,a._)("td",null,[(0,a.Wm)(s,{item:l,onUpdateDirHandler:e.updateDirHandler},null,8,["item","onUpdateDirHandler"])])])))),128))])])),_:1}),e.dialog?((0,a.wg)(),(0,a.j4)(u,{key:0,popup:"update",onClose:l[1]||(l[1]=l=>e.dialog=!1),id:e.itemId,fileName:e.itemName},null,8,["id","fileName"])):(0,a.kq)("",!0)],64)}var Xe=(0,a.aZ)({components:{FileMenu:Le,PopupCreateDir:Ue,AppCreateNewFolder:pe},props:["desserts","table"],emits:["openDirHandler","createDirHandler"],data(){return{dialog:!1,itemId:"",itemName:""}},methods:{updateDirHandler(e){this.itemId=e._id,this.dialog=!0,this.itemName=e.name}},setup(){return{sizeFormat:Te}}});const el=(0,f.Z)(Xe,[["render",Je],["__scopeId","data-v-eec96ac2"]]);var ll=el,tl=t(8521),al=t(7302),nl=t(3766);const rl=Symbol.for("vuetify:selection-control-group"),il=(0,nl.U)({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:F.lE,trueIcon:F.lE,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:he.vZ},...(0,Pe.x$)(),...(0,W.f)()},"v-selection-control-group");(0,b.aZ)({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...il()},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const n=(0,ve.z)(e,"modelValue"),r=(0,be.sq)(),i=(0,a.Fl)((()=>e.id||`v-selection-control-group-${r}`)),o=(0,a.Fl)((()=>e.name||i.value)),s=new Set;return(0,a.JJ)(rl,{modelValue:n,forceUpdate:()=>{s.forEach((e=>e()))},onForceUpdate:e=>{s.add(e),(0,I.EB)((()=>{s.delete(e)}))}}),(0,H.AF)({[e.defaultsTarget]:{color:(0,I.Vh)(e,"color"),disabled:(0,I.Vh)(e,"disabled"),density:(0,I.Vh)(e,"density"),error:(0,I.Vh)(e,"error"),inline:(0,I.Vh)(e,"inline"),modelValue:n,multiple:(0,a.Fl)((()=>!!e.multiple||null==e.multiple&&Array.isArray(n.value))),name:o,falseIcon:(0,I.Vh)(e,"falseIcon"),trueIcon:(0,I.Vh)(e,"trueIcon"),readonly:(0,I.Vh)(e,"readonly"),ripple:(0,I.Vh)(e,"ripple"),type:(0,I.Vh)(e,"type"),valueComparator:(0,I.Vh)(e,"valueComparator")}}),(0,y.L)((()=>{var l;return(0,a.Wm)("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline}],role:"radio"===e.type?"radiogroup":void 0},[null==(l=t.default)?void 0:l.call(t)])})),{}}});var ol=t(3824);const sl=(0,nl.U)({label:String,trueValue:null,falseValue:null,value:null,...il()},"v-selection-control");function ul(e){const l=(0,a.f3)(rl,void 0),{densityClasses:t}=(0,W.t)(e),n=(0,ve.z)(e,"modelValue"),r=(0,a.Fl)((()=>void 0!==e.trueValue?e.trueValue:void 0===e.value||e.value)),i=(0,a.Fl)((()=>void 0!==e.falseValue&&e.falseValue)),o=(0,a.Fl)((()=>!!e.multiple||null==e.multiple&&Array.isArray(n.value))),s=(0,a.Fl)({get(){const t=l?l.modelValue.value:n.value;return o.value?t.some((l=>e.valueComparator(l,r.value))):e.valueComparator(t,r.value)},set(t){if(e.readonly)return;const a=t?r.value:i.value;let s=a;o.value&&(s=t?[...(0,he.FT)(n.value),a]:(0,he.FT)(n.value).filter((l=>!e.valueComparator(l,r.value)))),l?l.modelValue.value=s:n.value=s}}),{textColorClasses:u,textColorStyles:d}=(0,D.rY)((0,a.Fl)((()=>!s.value||e.error||e.disabled?void 0:e.color))),c=(0,a.Fl)((()=>s.value?e.trueIcon:e.falseIcon));return{group:l,densityClasses:t,trueValue:r,falseValue:i,model:s,textColorClasses:u,textColorStyles:d,icon:c}}const dl=(0,b.ev)()({name:"VSelectionControl",directives:{Ripple:ol.H},inheritAttrs:!1,props:sl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{attrs:t,slots:n}=l;const{group:r,densityClasses:i,icon:o,model:s,textColorClasses:u,textColorStyles:d,trueValue:c}=ul(e),p=(0,be.sq)(),m=(0,a.Fl)((()=>e.id||`input-${p}`)),v=(0,I.iH)(!1),f=(0,I.iH)(!1),g=(0,I.iH)();function h(e){v.value=!0,(!_e.Z1||_e.Z1&&e.target.matches(":focus-visible"))&&(f.value=!0)}function b(){v.value=!1,f.value=!1}function k(l){e.readonly&&r&&(0,a.Y3)((()=>r.forceUpdate())),s.value=l.target.checked}return null==r||r.onForceUpdate((()=>{g.value&&(g.value.checked=s.value)})),(0,y.L)((()=>{var l,r;const p=n.label?n.label({label:e.label,props:{for:m.value}}):e.label,[y,C]=(0,he.An)(t);return(0,a.Wm)("div",(0,a.dG)({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":v.value,"v-selection-control--focus-visible":f.value,"v-selection-control--inline":e.inline},i.value]},y),[(0,a.Wm)("div",{class:["v-selection-control__wrapper",u.value],style:d.value},[null==(l=n.default)?void 0:l.call(n),(0,a.wy)((0,a.Wm)("div",{class:["v-selection-control__input"]},[o.value&&(0,a.Wm)(x.t,{key:"icon",icon:o.value},null),(0,a.Wm)("input",(0,a.dG)({ref:g,checked:s.value,disabled:e.disabled,id:m.value,onBlur:b,onFocus:h,onInput:k,"aria-disabled":e.readonly,type:e.type,value:c.value,name:e.name,"aria-checked":"checkbox"===e.type?s.value:void 0},C),null),null==(r=n.input)?void 0:r.call(n,{model:s,textColorClasses:u,textColorStyles:d,props:{onFocus:h,onBlur:b,id:m.value}})]),[[(0,a.Q2)("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),p&&(0,a.Wm)(al.J,{for:m.value,clickable:!0},{default:()=>[p]})])})),{isFocused:v,input:g}}});const cl=(0,nl.U)({indeterminate:Boolean,indeterminateIcon:{type:F.lE,default:"$checkboxIndeterminate"},...sl({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),pl=(0,b.aZ)({name:"VCheckboxBtn",props:cl(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,l){let{slots:t}=l;const n=(0,ve.z)(e,"indeterminate"),r=(0,ve.z)(e,"modelValue");function i(e){n.value&&(n.value=!1)}const o=(0,a.Fl)((()=>e.indeterminate?e.indeterminateIcon:e.falseIcon)),s=(0,a.Fl)((()=>e.indeterminate?e.indeterminateIcon:e.trueIcon));return(0,y.L)((()=>(0,a.Wm)(dl,(0,a.dG)(e,{modelValue:r.value,"onUpdate:modelValue":[e=>r.value=e,i],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:o.value,trueIcon:s.value,"aria-checked":e.indeterminate?"mixed":void 0}),t))),{}}});var ml=t(652),vl=t(1970),fl=t(5221);const gl=Symbol.for("vuetify:v-chip-group");(0,b.aZ)({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:he.vZ},...(0,vl.k4)({selectedClass:"v-chip--selected"}),...(0,w.Q)(),...(0,Pe.x$)(),...(0,fl.bk)({variant:"tonal"})},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const{themeClasses:n}=(0,Pe.ER)(e),{isSelected:r,select:i,next:o,prev:s,selected:u}=(0,vl._v)(e,gl);return(0,H.AF)({VChip:{color:(0,I.Vh)(e,"color"),disabled:(0,I.Vh)(e,"disabled"),filter:(0,I.Vh)(e,"filter"),variant:(0,I.Vh)(e,"variant")}}),(0,y.L)((()=>{var l;return(0,a.Wm)(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},n.value]},{default:()=>[null==(l=t.default)?void 0:l.call(t,{isSelected:r,select:i,next:o,prev:s,selected:u.value})]})})),{}}});var hl=t(8952),bl=t(2718),yl=t(2465),kl=t(9374);const Cl=(0,b.aZ)({name:"VChip",directives:{Ripple:ol.H},props:{activeClass:String,appendAvatar:String,appendIcon:F.lE,closable:Boolean,closeIcon:{type:F.lE,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:F.lE,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:he.as,onClickOnce:he.as,...(0,bl.m)(),...(0,W.f)(),...(0,yl.c)(),...(0,vl.YQ)(),...(0,S.I)(),...(0,C.GN)(),...(0,kl.Z)(),...(0,w.Q)({tag:"span"}),...(0,Pe.x$)(),...(0,fl.bk)({variant:"tonal"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,l){let{attrs:t,emit:n,slots:r}=l;const{borderClasses:i}=(0,bl.P)(e),{colorClasses:o,colorStyles:s,variantClasses:u}=(0,fl.c1)(e),{densityClasses:d}=(0,W.t)(e),{elevationClasses:c}=(0,yl.Y)(e),{roundedClasses:p}=(0,S.b)(e),{sizeClasses:m}=(0,kl.t)(e),{themeClasses:v}=(0,Pe.ER)(e),f=(0,ve.z)(e,"modelValue"),g=(0,vl.Yt)(e,gl,!1),h=(0,C.nB)(e,t),b=(0,a.Fl)((()=>!1!==e.link&&h.isLink.value)),y=(0,a.Fl)((()=>!e.disabled&&!1!==e.link&&(!!g||e.link||h.isClickable.value)));function k(e){f.value=!1,n("click:close",e)}function w(e){var l;n("click",e),y.value&&(null==(l=h.navigate)||l.call(h,e),null==g||g.toggle())}function D(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),w(e))}return()=>{var l;const t=h.isLink.value?"a":e.tag,n=!!(r.append||e.appendIcon||e.appendAvatar),C=!(!r.close&&!e.closable),V=!(!r.filter&&!e.filter)&&g,F=!!(r.prepend||e.prependIcon||e.prependAvatar),W=!g||g.isSelected.value;return f.value&&(0,a.wy)((0,a.Wm)(t,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":y.value,"v-chip--filter":V,"v-chip--pill":e.pill},v.value,i.value,W?o.value:void 0,d.value,c.value,p.value,m.value,u.value,null==g?void 0:g.selectedClass.value],style:[W?s.value:void 0],disabled:e.disabled||void 0,draggable:e.draggable,href:h.href.value,tabindex:y.value?0:void 0,onClick:w,onKeydown:y.value&&!b.value&&D},{default:()=>[(0,fl.Ux)(y.value,"v-chip"),V&&(0,a.Wm)(_.z,{key:"filter",defaults:{VIcon:{icon:e.filterIcon}}},{default:()=>[(0,a.Wm)(hl.Zq,null,{default:()=>[(0,a.wy)((0,a.Wm)("div",{class:"v-chip__filter"},[r.filter?r.filter():(0,a.Wm)(x.t,null,null)]),[[Ce.F8,g.isSelected.value]])]})]}),F&&(0,a.Wm)(_.z,{key:"prepend",defaults:{VAvatar:{image:e.prependAvatar},VIcon:{icon:e.prependIcon}}},{default:()=>[r.prepend?(0,a.Wm)("div",{class:"v-chip__prepend"},[r.prepend()]):e.prependAvatar?(0,a.Wm)(ml.V,{start:!0},null):e.prependIcon?(0,a.Wm)(x.t,{start:!0},null):void 0]}),(null==(l=r.default)?void 0:l.call(r,{isSelected:null==g?void 0:g.isSelected.value,selectedClass:null==g?void 0:g.selectedClass.value,select:null==g?void 0:g.select,toggle:null==g?void 0:g.toggle,value:null==g?void 0:g.value.value,disabled:e.disabled}))??e.text,n&&(0,a.Wm)(_.z,{key:"append",defaults:{VAvatar:{image:e.appendAvatar},VIcon:{icon:e.appendIcon}}},{default:()=>[r.append?(0,a.Wm)("div",{class:"v-chip__append"},[r.append()]):e.appendAvatar?(0,a.Wm)(ml.V,{end:!0},null):e.appendIcon?(0,a.Wm)(x.t,{end:!0},null):void 0]}),C&&(0,a.Wm)(_.z,{key:"close",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},{default:()=>[(0,a.Wm)("div",{class:"v-chip__close",onClick:k},[r.close?r.close():(0,a.Wm)(x.t,null,null)])]})]}),[[(0,a.Q2)("ripple"),y.value&&e.ripple,null]])}}});var wl=t(8777),Dl=t(6185),Vl=t(4906),_l=t(4357),xl=t(1629);const Fl=(0,nl.U)({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:F.lE,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:he.vZ},...(0,Dl.S1)({itemChildren:!1})},"v-select"),Wl=(0,b.ev)()({name:"VSelect",props:{...Fl(),...(0,he.CE)((0,We.wG)({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...(0,Vl.X)({transition:{component:Ve.v}})},emits:{"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:n}=(0,xl.bU)(),r=(0,I.iH)(),i=(0,ve.z)(e,"menu"),{items:o,transformIn:s,transformOut:u}=(0,Dl.Ce)(e),d=(0,ve.z)(e,"modelValue",[],(e=>s((0,he.FT)(e))),(l=>{const t=u(l);return e.multiple?t:t[0]??null})),c=(0,_l.cI)(),p=(0,a.Fl)((()=>d.value.map((l=>o.value.find((t=>e.valueComparator(t.value,l.value)))||l)))),m=(0,a.Fl)((()=>p.value.map((e=>e.props.value)))),v=(0,a.Fl)((()=>e.hideSelected?o.value.filter((e=>!p.value.some((l=>l===e)))):o.value)),f=(0,I.iH)();function g(l){d.value=[],e.openOnClear&&(i.value=!0)}function h(){e.hideNoData&&!o.value.length||e.readonly||null!=c&&c.isReadonly.value||(i.value=!i.value)}function b(l){var t;if(!(e.readonly||null!=c&&c.isReadonly.value))if(["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"," "].includes(l.key)&&(i.value=!0),["Escape","Tab"].includes(l.key)&&(i.value=!1),"ArrowDown"===l.key)null==(t=f.value)||t.focus("next");else if("ArrowUp"===l.key){var a;null==(a=f.value)||a.focus("prev")}else if("Home"===l.key){var n;null==(n=f.value)||n.focus("first")}else if("End"===l.key){var r;null==(r=f.value)||r.focus("last")}}function k(l){if(e.multiple){const t=m.value.findIndex((t=>e.valueComparator(t,l.value)));if(-1===t)d.value=[...d.value,l];else{const e=[...d.value];e.splice(t,1),d.value=e}}else d.value=[l],i.value=!1}function C(e){var l;null!=(l=f.value)&&l.$el.contains(e.relatedTarget)||(i.value=!1)}function w(e){var l;null==e.relatedTarget&&(null==(l=r.value)||l.focus())}return(0,y.L)((()=>{const l=!(!e.chips&&!t.chip),o=!!(!e.hideNoData||v.value.length||t.prepend||t.append||t["no-data"]),[s]=(0,We.a)(e);return(0,a.Wm)(We.hw,(0,a.dG)({ref:r},s,{modelValue:d.value.map((e=>e.props.value)).join(", "),"onUpdate:modelValue":e=>{null==e&&(d.value=[])},validationValue:d.externalValue,dirty:d.value.length>0,class:["v-select",{"v-select--active-menu":i.value,"v-select--chips":!!e.chips,["v-select--"+(e.multiple?"multiple":"single")]:!0,"v-select--selected":d.value.length}],appendInnerIcon:e.menuIcon,readonly:!0,"onClick:clear":g,"onClick:control":h,onBlur:C,onKeydown:b}),{...t,default:()=>{var r,s,u;return(0,a.Wm)(a.HY,null,[(0,a.Wm)($e.T,(0,a.dG)({modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,activator:"parent",contentClass:"v-select__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition},e.menuProps),{default:()=>[o&&(0,a.Wm)(Be.i,{ref:f,selected:m.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onFocusout:w},{default:()=>[!v.value.length&&!e.hideNoData&&((null==(r=t["no-data"])?void 0:r.call(t))??(0,a.Wm)(wl.l,{title:n(e.noDataText)},null)),null==(s=t["prepend-item"])?void 0:s.call(t),v.value.map(((l,n)=>{var r;return t.item?null==(r=t.item)?void 0:r.call(t,{item:l,index:n,props:(0,a.dG)(l.props,{onClick:()=>k(l)})}):(0,a.Wm)(wl.l,(0,a.dG)({key:n},l.props,{onClick:()=>k(l)}),{prepend:l=>{let{isSelected:t}=l;return e.multiple&&!e.hideSelected?(0,a.Wm)(pl,{modelValue:t,ripple:!1},null):void 0}})})),null==(u=t["append-item"])?void 0:u.call(t)]})]}),p.value.map(((n,r)=>{function i(e){e.stopPropagation(),e.preventDefault(),k(n)}const o={"onClick:close":i,modelValue:!0,"onUpdate:modelValue":void 0};return(0,a.Wm)("div",{key:n.value,class:"v-select__selection"},[l?(0,a.Wm)(_.z,{defaults:{VChip:{closable:e.closableChips,size:"small",text:n.title}}},{default:()=>[t.chip?t.chip({item:n,index:r,props:o}):(0,a.Wm)(Cl,o,null)]}):t.selection?t.selection({item:n,index:r}):(0,a.Wm)("span",{class:"v-select__selection-text"},[n.title,e.multiple&&r<p.value.length-1&&(0,a.Wm)("span",{class:"v-select__selection-comma"},[(0,a.Uk)(",")])])])}))])}})})),(0,ge.F)({menu:i,select:k},r)}});function Sl(e,l,t,n,r,i){return(0,a.wg)(),(0,a.j4)(tl.D,{cols:e.cols},{default:(0,a.w5)((()=>[(0,a.Wm)(K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Wl,{variant:"underlined",modelValue:e.item,"onUpdate:modelValue":l[0]||(l[0]=l=>e.item=l),items:e.items,"item-title":"name","item-value":"type","persistent-hint":"","return-object":"","single-line":""},null,8,["modelValue","items"]),e.loading?((0,a.wg)(),(0,a.j4)(X.L,{key:0,class:"ma-3",indeterminate:"",color:"amber"})):(0,a.kq)("",!0)])),_:1})])),_:1},8,["cols"])}var Hl=t(8157),Il=(0,a.aZ)({props:["currentDir"],data(){return{loading:!1,item:"Сортировка",items:[{name:"По имени",type:"name"},{name:"По типу",type:"type"},{name:"По дате",type:"date"}]}},watch:{async item(e){try{const l={dirId:this.currentDir,sort:e.type};this.loading=!0,await this.$store.dispatch("files/get",l),this.loading=!1}catch(l){console.log(l)}}},setup(){const{name:e}=(0,Hl.AW)(),l=(0,a.Fl)((()=>{switch(e.value){case"xs":return 12;case"sm":return 6;case"md":return 3;case"lg":return 3;case"xl":return 3;case"xxl":return 3}}));return{cols:l}}});const Ul=(0,f.Z)(Il,[["render",Sl]]);var Bl=Ul,$l=(0,a.aZ)({components:{HomeSorting:Bl,SpreadsheetTable:ll,PopupCreateDir:Ue,GridFile:qe,AppCreateNewFolder:pe},props:["desserts","table","currentDir"],data(){return{dialog:!1}},methods:{createDirHandler(){this.dialog=!0},openDirHandler(e){"dir"===e.type&&(this.$store.commit("files/setCurrentDir",e._id),this.$store.commit("files/folderNext",e._id),this.$store.commit("files/pushArrayNamesDir",e.name))}}});const jl=(0,f.Z)($l,[["render",re]]);var zl=jl,Al=(0,a.aZ)({components:{HomeTable:zl,AppLoader:ne},props:["loading","table","currentDir"],computed:{...(0,u.rn)("files",["files"]),...(0,u.rn)("files",["arrayNamesDir"])},methods:{backClickHandler(){this.$store.commit("files/folderPrev"),this.$store.commit("files/prevArrayNamesDir")}}});const Zl=(0,f.Z)(Al,[["render",J]]);var Nl=Zl,El=t.p+"img/Grid.3635e71f.svg",Ll=t.p+"img/Spreadsheet.936cafdb.svg",Tl=(0,a.aZ)({name:"MainHome",components:{AppDisk:Nl,AppButtonImport:h},data(){return{dirname:"",loading:!1,table:window.localStorage.getItem("table")??"grid"}},async mounted(){try{const e={dirId:null,sort:null};this.loading=!0,await this.$store.dispatch("files/get",e),this.loading=!1}catch(e){console.log(e)}},methods:{updateTable(e){this.table=e,window.localStorage.setItem("table",e)}},computed:{...(0,u.rn)("files",["currentDir"])},watch:{async currentDir(e){try{const l={dirId:e,sort:null};this.loading=!0,await this.$store.dispatch("files/get",l),this.loading=!1}catch(l){console.log(l)}}},setup(){return{grid:El,spreadsheet:Ll}}});const Ol=(0,f.Z)(Tl,[["render",s],["__scopeId","data-v-6aa25366"]]);var Gl=Ol},6422:function(e,l,t){t.d(l,{O:function(){return u}});var a=t(3396),n=t(4357),r=t(3185),i=t(4870),o=t(320),s=t(9888);const u=(0,o.aZ)({name:"VForm",props:{...(0,n.vC)()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:t,emit:o}=l;const u=(0,n.Np)(e),d=(0,i.iH)();function c(e){e.preventDefault(),u.reset()}function p(e){const l=e,t=u.validate();l.then=t.then.bind(t),l.catch=t.catch.bind(t),l.finally=t.finally.bind(t),o("submit",l),l.defaultPrevented||t.then((e=>{let{valid:l}=e;var t;l&&(null==(t=d.value)||t.submit())})),l.preventDefault()}return(0,s.L)((()=>{var e;return(0,a.Wm)("form",{ref:d,class:"v-form",novalidate:!0,onReset:c,onSubmit:p},[null==(e=t.default)?void 0:e.call(t,u)])})),(0,r.F)(u,d)}})},8521:function(e,l,t){t.d(l,{D:function(){return v}});t(7658),t(8099);var a=t(1138),n=t(7139),r=t(3396),i=t(320);const o=["sm","md","lg","xl","xxl"],s=(()=>o.reduce(((e,l)=>(e[l]={type:[Boolean,String,Number],default:!1},e)),{}))(),u=(()=>o.reduce(((e,l)=>(e["offset"+(0,n.kC)(l)]={type:[String,Number],default:null},e)),{}))(),d=(()=>o.reduce(((e,l)=>(e["order"+(0,n.kC)(l)]={type:[String,Number],default:null},e)),{}))(),c={col:Object.keys(s),offset:Object.keys(u),order:Object.keys(d)};function p(e,l,t){let a=e;if(null!=t&&!1!==t){if(l){const t=l.replace(e,"");a+=`-${t}`}return"col"===e&&(a="v-"+a),"col"!==e||""!==t&&!0!==t?(a+=`-${t}`,a.toLowerCase()):a.toLowerCase()}}const m=["auto","start","end","center","baseline","stretch"],v=(0,i.aZ)({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...s,offset:{type:[String,Number],default:null},...u,order:{type:[String,Number],default:null},...d,alignSelf:{type:String,default:null,validator:e=>m.includes(e)},...(0,a.Q)()},setup(e,l){let{slots:t}=l;const a=(0,r.Fl)((()=>{const l=[];let t;for(t in c)c[t].forEach((a=>{const n=e[a],r=p(t,a,n);r&&l.push(r)}));const a=l.some((e=>e.startsWith("v-col-")));return l.push({"v-col":!a||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),l}));return()=>{var l;return(0,r.h)(e.tag,{class:a.value},null==(l=t.default)?void 0:l.call(t))}}})},3369:function(e,l,t){t.d(l,{K:function(){return o}});var a=t(3396),n=(t(8099),t(1138)),r=t(320),i=t(9888);const o=(0,r.aZ)({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...(0,n.Q)()},setup(e,l){let{slots:t}=l;return(0,i.L)((()=>(0,a.Wm)(e.tag,{class:["v-container",{"v-container--fluid":e.fluid}]},t))),{}}})}}]);
//# sourceMappingURL=213.673bbf8f.js.map